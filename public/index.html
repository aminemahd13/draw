<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Draw</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,400;1,600&display=swap" rel="stylesheet">
    <link rel="shortcut icon" type="image/png" href="./assets/favicon.ico"/>
    <link rel="stylesheet" href="style.css"/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <!-- Primary Meta Tags -->
    <meta name="title" content="Draw">
    <meta name="description" content="Draw with your friends. ">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://draw.aminemahdane.me/">
    <meta property="og:title" content="Social Distance Drawing">
    <meta property="og:description" content="Draw with your friends. ">
    <meta property="og:image" content="https://distancedrawing.app/assets/cover.png">

   
</head>
<body class="splash">
    <div class="welcome">
        <h1>Draw</h1>
        <p class="intro">Draw with your friends. <span class="s1">5 rounds.</span><span class="s2">60s per round.</span><br/>The catch? <span class="s3">there's no catch just go have some fun,</span><em>Oh, and, the winner gets nothing but to feel better about their drawing skills.</em></p>
        <form action="board">
            <div class="form-control">
                <label for="name">Your name</label>
                <input
                    type="text"
                    name="name"
                    id="name"
                    placeholder="Enter your name"
                    autocomplete="off" 
                />

                <label for="room">The room you want to join</label>
                <input
                    type="text"
                    name="room"
                    id="room"
                    placeholder="Enter a room name"
                    autocomplete="off" 
                    required
                />
            </div>
  
            <button type="submit" class="btn">Join Room</button>
            <a href="/world" title="Join existing rooms" class="intro">Join open rooms</a>
        </form>
    </div>
    <script type="text/javascript">
        let animals = ["monster", "MOOONNSTEER", "angus", "anicotti", "anonymous", "annalisa", "baby", "boyd", "maiac", "animal"];
        let islands = ["port-moody", "banana", "john wick","akala-island", "godzilla", "cinnabar-island", "king-kong", "jabberwock-island", "birdwell-island", "skull-island", "northern-island"];
        let adjs = ["admirable", "INSANE", "angelic", "insaanee", "attractive","charming", "godly", "cute", "handsome", "lovely", "magnificent", "maniac", "radiant", "monstrous", "stunning", "sublime"];

        let getIndex = (l) =>  Math.floor(Math.random() * (l - 0)) + 0;

        // automatically set username
        document.querySelector("input[name='name'").value = adjs[getIndex(adjs.length)] + "-" + animals[getIndex(animals.length)];

        let submit = document.querySelector(".btn")

        submit.addEventListener("click", (e) => {
            e.preventDefault()

            let roomVal = document.querySelector("#room").value.replace(/[^a-zA-Z0-9-_]/g, '')
            let nameVal = document.querySelector("#name").value.replace(/[^a-zA-Z0-9-_]/g, '')

            if(roomVal === ""){
                roomVal = islands[getIndex(islands.length)];
                document.querySelector("#room").value = roomVal
            }

            window.location.href = "/board?room=" + roomVal + "&name=" + nameVal
        })

    
    </script>

</body>
</html>